/**
 * Created by Andrew on 2015/5/11.
 */
//坐标JSON  红色出口id为1  顺时针
var COORD = [{
    'id': 1,    //红色出口第一个
    'top': '90',
    'left': '630',
    'color': 'green'
}, {
    'id': 2,
    'top': '149',
    'left': '653',
    'color': 'red'
}, {
    'id': 3,
    'top': '204',
    'left': '653',
    'color': 'yellow'
}, {
    'id': 4,
    'top': '263',
    'left': '630',
    'color': 'blue'
}, {
    'id': 5,
    'top': '306',
    'left': '675',
    'color': 'green',
    'goto': '17'
}, {
    'id': 6,
    'top': '285',
    'left': '733',
    'color': 'red'
}, {
    'id': 7,
    'top': '285',
    'left': '787',
    'color': 'yellow'
}, {
    'id': 8,
    'top': '305',
    'left': '846',
    'color': 'blue'
}, {
    'id': 9,
    'top': '364',
    'left': '866',
    'color': 'green'
}, {
    'id': 10,
    'top': '415',
    'left': '866',
    'color': 'red'
}, {
    'id': 11,
    'top': '468',
    'left': '866',
    'color': 'yellow',
    'last': 'yes'
}, {
    'id': 12,
    'top': '521',
    'left': '866',
    'color': 'blue'
}, {
    'id': 13,
    'top': '573',
    'left': '866',
    'color': 'green'
}, {
    'id': 14,
    'top': '630',
    'left': '845',
    'color': 'red'
}, {
    'id': 15,
    'top': '652',
    'left': '788',
    'color': 'yellow'
}, {
    'id': 16,
    'top': '652',
    'left': '732',
    'color': 'blue'
}, {
    'id': 17,
    'top': '633',
    'left': '674',
    'color': 'green'
}, {
    'id': 18,
    'top': '674',
    'left': '631',
    'color': 'red',
    'goto': '30'
}, {
    'id': 19,
    'top': '733',
    'left': '653',
    'color': 'yellow'
}, {
    'id': 20,
    'top': '787',
    'left': '653',
    'color': 'blue'
}, {
    'id': 21,
    'top': '844',
    'left': '631',
    'color': 'green'
}, {
    'id': 22,
    'top': '868',
    'left': '574',
    'color': 'red'
}, {
    'id': 23,
    'top': '868',
    'left': '521',
    'color': 'yellow'
}, {
    'id': 24,
    'top': '868',
    'left': '468',
    'color': 'blue',
    'last': 'yes'
}, {
    'id': 25,
    'top': '868',
    'left': '416',
    'color': 'green'
}, {
    'id': 26,
    'top': '868',
    'left': '364',
    'color': 'red'
}, {
    'id': 27,
    'top': '845',
    'left': '307',
    'color': 'yellow'
}, {
    'id': 28,
    'top': '787',
    'left': '284',
    'color': 'blue'
}, {
    'id': 29,
    'top': '732',
    'left': '284',
    'color': 'green'
}, {
    'id': 30,
    'top': '675',
    'left': '308',
    'color': 'red'
}, {
    'id': 31,
    'top': '631',
    'left': '262',
    'color': 'yellow',
    'goto': '43'
}, {
    'id': 32,
    'top': '652',
    'left': '203',
    'color': 'blue'
}, {
    'id': 33,
    'top': '652',
    'left': '149',
    'color': 'green'
}, {
    'id': 34,
    'top': '629',
    'left': '90',
    'color': 'red'
}, {
    'id': 35,
    'top': '573',
    'left': '69',
    'color': 'yellow'
}, {
    'id': 36,
    'top': '521',
    'left': '69',
    'color': 'blue'
}, {
    'id': 37,
    'top': '468',
    'left': '69',
    'color': 'green',
    'last': 'yes'
}, {
    'id': 38,
    'top': '415',
    'left': '69',
    'color': 'red'
}, {
    'id': 39,
    'top': '363',
    'left': '69',
    'color': 'yellow'
}, {
    'id': 40,
    'top': '306',
    'left': '92',
    'color': 'blue'
}, {
    'id': 41,
    'top': '285',
    'left': '149',
    'color': 'green'
}, {
    'id': 42,
    'top': '285',
    'left': '204',
    'color': 'red'
}, {
    'id': 43,
    'top': '305',
    'left': '263',
    'color': 'yellow'
}, {
    'id': 44,
    'top': '262',
    'left': '306',
    'color': 'blue',
    'goto': '4'
}, {
    'id': 45,
    'top': '204',
    'left': '284',
    'color': 'green'
}, {
    'id': 46,
    'top': '149',
    'left': '284',
    'color': 'red'
}, {
    'id': 47,
    'top': '92',
    'left': '307',
    'color': 'yellow'
}, {
    'id': 48,
    'top': '70',
    'left': '364',
    'color': 'blue'
}, {
    'id': 49,
    'top': '70',
    'left': '416',
    'color': 'green'
}, {
    'id': 50,
    'top': '70',
    'left': '469',
    'color': 'red',
    'last': 'yes'
}, {
    'id': 51,
    'top': '70',
    'left': '521',
    'color': 'yellow'
}, {
    'id': 52,
    'top': '70',
    'left': '573',
    'color': 'blue'
}, {
    'id': 61,
    'top': '154',
    'left': '469'
}, {
    'id': 62,
    'top': '205',
    'left': '469'
}, {
    'id': 63,
    'top': '258',
    'left': '469'
}, {
    'id': 64,
    'top': '309',
    'left': '469'
}, {
    'id': 65,
    'top': '361',
    'left': '469'
}, {
    'id': 66,
    'top': '413',
    'left': '469',
    'state': 'win'
}, {
    'id': 71,
    'top': '468',
    'left': '783'
}, {
    'id': 72,
    'top': '468',
    'left': '731'
}, {
    'id': 73,
    'top': '468',
    'left': '679'
}, {
    'id': 74,
    'top': '468',
    'left': '627'
}, {
    'id': 75,
    'top': '468',
    'left': '575'
}, {
    'id': 76,
    'top': '468',
    'left': '523',
    'state': 'win'
}, {
    'id': 81,
    'top': '783',
    'left': '468'
}, {
    'id': 82,
    'top': '731',
    'left': '468'
}, {
    'id': 83,
    'top': '679',
    'left': '468'
}, {
    'id': 84,
    'top': '627',
    'left': '468'
}, {
    'id': 85,
    'top': '575',
    'left': '468'
}, {
    'id': 86,
    'top': '522',
    'left': '468',
    'state': 'win'
}, {
    'id': 91,
    'top': '468',
    'left': '154'
}, {
    'id': 92,
    'top': '468',
    'left': '206'
}, {
    'id': 93,
    'top': '468',
    'left': '258'
}, {
    'id': 94,
    'top': '468',
    'left': '310'
}, {
    'id': 95,
    'top': '468',
    'left': '362'
}, {
    'id': 96,
    'top': '468',
    'left': '412',
    'state': 'win'
}];

var initRedCoord = [{
    'id': 1,
    'top': '73',
    'left': '770'
}, {
    'id': 2,
    'top': '73',
    'left': '865'
}, {
    'id': 3,
    'top': '165',
    'left': '770'
}, {
    'id': 4,
    'top': '165',
    'left': '865'
}];

var initYellowCoord = [{
    'id': 1,
    'top': '771',
    'left': '770'
}, {
    'id': 2,
    'top': '771',
    'left': '865'
}, {
    'id': 3,
    'top': '863',
    'left': '770'
}, {
    'id': 4,
    'top': '863',
    'left': '865'
}];

var initBlueCoord = [{
    'id': 1,
    'top': '771',
    'left': '71'
}, {
    'id': 2,
    'top': '771',
    'left': '166'
}, {
    'id': 3,
    'top': '863',
    'left': '71'
}, {
    'id': 4,
    'top': '863',
    'left': '166'
}];

var initGreenCoord = [{
    'id': 1,
    'top': '73',
    'left': '71'
}, {
    'id': 2,
    'top': '73',
    'left': '166'
}, {
    'id': 3,
    'top': '165',
    'left': '71'
}, {
    'id': 4,
    'top': '165',
    'left': '166'
}];

class Coord {
    constructor(id, unitLength) {
        this.unitLength = unitLength
        this.id = id
        this.color = this.getColor(id)
        this.goto = this.getGotoId(id)
        this.last = this.getLastFlag(id)
        this.getPosition(id)
    }
    getColor = index => {
        switch (index % 4) {
            case 1: return 'green'
            case 2: return 'red'
            case 3: return 'yellow'
            case 0: return 'blue'
        }
    }
    getGotoId = index => {
        switch (index) {
            case 5: return 17
            case 18: return 30
            case 31: return 43
            case 44: return 4
        }
    }
    getLastFlag = index => {
        if ([11, 24, 37, 50].indexOf(index) > 0) {
            return 'yes'
        }
    }
    getPosition = index => {
        this.top = positionMap[index - 1].unitTop * this.unitLength + 'px'
        this.left = positionMap[index - 1].unitLeft * this.unitLength + 'px'
    }
}

var positionMap = [
    { id: 1, unitLeft: 4, unitTop: 14 },//home start first step
    { id: 2, unitLeft: 4, unitTop: 13 },
    { id: 3, unitLeft: 4, unitTop: 12 },
    { id: 4, unitLeft: 4, unitTop: 11 },

    { id: 5, unitLeft: 3, unitTop: 10 },
    { id: 6, unitLeft: 2, unitTop: 10 },
    { id: 7, unitLeft: 1, unitTop: 10 },

    { id: 8, unitLeft: 0, unitTop: 10 },
    { id: 9, unitLeft: 0, unitTop: 9 },
    { id: 10, unitLeft: 0, unitTop: 8 },
    { id: 11, unitLeft: 0, unitTop: 7 },
    { id: 12, unitLeft: 0, unitTop: 6 },
    { id: 13, unitLeft: 0, unitTop: 5 },
    { id: 14, unitLeft: 0, unitTop: 4 },//home start first step

    { id: 15, unitLeft: 1, unitTop: 4 },
    { id: 16, unitLeft: 2, unitTop: 4 },
    { id: 17, unitLeft: 3, unitTop: 4 },

    { id: 18, unitLeft: 4, unitTop: 3 },
    { id: 19, unitLeft: 4, unitTop: 2 },
    { id: 20, unitLeft: 4, unitTop: 1 },
    { id: 21, unitLeft: 4, unitTop: 0 },

    { id: 22, unitLeft: 5, unitTop: 0 },
    { id: 23, unitLeft: 6, unitTop: 0 },
    { id: 24, unitLeft: 7, unitTop: 0 },
    { id: 25, unitLeft: 8, unitTop: 0 },
    { id: 26, unitLeft: 9, unitTop: 0 },
    { id: 27, unitLeft: 10, unitTop: 0 },//home start first step

    { id: 28, unitLeft: 10, unitTop: 1 },
    { id: 29, unitLeft: 10, unitTop: 2 },
    { id: 30, unitLeft: 10, unitTop: 3 },

    { id: 31, unitLeft: 11, unitTop: 4 },
    { id: 32, unitLeft: 12, unitTop: 4 },
    { id: 33, unitLeft: 13, unitTop: 4 },
    { id: 34, unitLeft: 14, unitTop: 4 },

    { id: 35, unitLeft: 14, unitTop: 5 },
    { id: 36, unitLeft: 14, unitTop: 6 },
    { id: 37, unitLeft: 14, unitTop: 7 },
    { id: 38, unitLeft: 14, unitTop: 8 },
    { id: 39, unitLeft: 14, unitTop: 9 },
    { id: 40, unitLeft: 14, unitTop: 10 }, //home start first step

    { id: 41, unitLeft: 13, unitTop: 10 },
    { id: 42, unitLeft: 12, unitTop: 10 },
    { id: 43, unitLeft: 11, unitTop: 10 },

    { id: 44, unitLeft: 10, unitTop: 11 },
    { id: 45, unitLeft: 10, unitTop: 12 },
    { id: 46, unitLeft: 10, unitTop: 13 },
    { id: 47, unitLeft: 10, unitTop: 14 },

    { id: 48, unitLeft: 9, unitTop: 14 },
    { id: 49, unitLeft: 8, unitTop: 14 },
    { id: 50, unitLeft: 7, unitTop: 14 },
    { id: 51, unitLeft: 6, unitTop: 14 },
    { id: 52, unitLeft: 5, unitTop: 14 },
]

var targetPipeMap = [
    //left top right bottom
    { id: 61, unitLeft: 1, unitTop: 7 },
    { id: 62, unitLeft: 2, unitTop: 7 },
    { id: 63, unitLeft: 3, unitTop: 7 },
    { id: 64, unitLeft: 4, unitTop: 7 },
    { id: 65, unitLeft: 5, unitTop: 7 },
    { id: 66, unitLeft: 6, unitTop: 7 },

    { id: 71, unitLeft: 7, unitTop: 1 },
    { id: 72, unitLeft: 7, unitTop: 2 },
    { id: 73, unitLeft: 7, unitTop: 3 },
    { id: 74, unitLeft: 7, unitTop: 4 },
    { id: 75, unitLeft: 7, unitTop: 5 },
    { id: 76, unitLeft: 7, unitTop: 6 },

    { id: 81, unitLeft: 13, unitTop: 7 },
    { id: 82, unitLeft: 12, unitTop: 7 },
    { id: 83, unitLeft: 11, unitTop: 7 },
    { id: 84, unitLeft: 10, unitTop: 7 },
    { id: 85, unitLeft: 9, unitTop: 7 },
    { id: 86, unitLeft: 8, unitTop: 7 },

    { id: 91, unitLeft: 7, unitTop: 13 },
    { id: 92, unitLeft: 7, unitTop: 12 },
    { id: 93, unitLeft: 7, unitTop: 11 },
    { id: 94, unitLeft: 7, unitTop: 10 },
    { id: 95, unitLeft: 7, unitTop: 9 },
    { id: 96, unitLeft: 7, unitTop: 8 },
]

export default class CoordCollection {
    constructor(screenWidth) {
        this.unitLength = screenWidth / 15
        this.RoadCollection = []
        for (let i = 1; i < 53; i++) {
            this.RoadCollection.push(new Coord(i, this.unitLength))
        }

        this.TargetPipes = []
        for (let item of targetPipeMap) {
            this.TargetPipes.push({
                id: item.id,
                top: item.unitTop * this.unitLength + 'px',
                left: item.unitLeft * this.unitLength + 'px',
                color: this.getTargetPipeColor(item.id)
            })
        }

        this.Collection = this.RoadCollection.concat(this.TargetPipes)
    }
    getTargetPipeColor = index => {
        if (index < 70) {
            return 'yellow'
        } else if (index < 80) {
            return 'blue'
        } else if (index < 90) {
            return 'green'
        } else {
            return 'red'
        }
    }
}

// module.exports = {
//     coordCollection: coordCollection,
//     initGreenCoord: initGreenCoord,
//     initRedCoord: initRedCoord,
//     initYellowCoord: initYellowCoord,
//     initBlueCoord: initBlueCoord,
// }